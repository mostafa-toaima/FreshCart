import{a as j}from"./chunk-R2M3W24S.js";import{a as T,b as f,c as A,d as R,h as N,i as O,j as k,k as q,m as V}from"./chunk-WEXOQBYC.js";import{g as M,h as P}from"./chunk-LRRIKLGP.js";import{$a as b,Ac as F,Eb as S,Fb as s,Gb as E,Gc as L,Nb as I,Va as l,Wa as u,ia as h,jb as c,lb as m,pb as r,qb as i,ra as x,rb as _,sa as w,ub as C,wb as y,xb as v}from"./chunk-AVFOVZ2H.js";function G(e,o){e&1&&(r(0,"p",18),s(1," Email is required "),i())}function H(e,o){e&1&&(r(0,"p",18),s(1," Invalid Email "),i())}function W(e,o){if(e&1&&(r(0,"div",16),c(1,G,2,0,"p",17)(2,H,2,0,"p",17),i()),e&2){let p,a,n=v();l(),m("ngIf",(p=n.loginForm.get("email"))==null?null:p.getError("required")),l(),m("ngIf",(a=n.loginForm.get("name"))==null?null:a.getError("email"))}}function z(e,o){e&1&&(r(0,"p",18),s(1," Password is required "),i())}function B(e,o){e&1&&(r(0,"p",18),s(1," Password must start with an uppercase letter followed by 5 to 8 lowercase letters or numbers. "),i())}function Z(e,o){if(e&1&&(r(0,"div",16),c(1,z,2,0,"p",17)(2,B,2,0,"p",17),i()),e&2){let p,a,n=v();l(),m("ngIf",(p=n.loginForm.get("password"))==null?null:p.getError("required")),l(),m("ngIf",(a=n.loginForm.get("password"))==null?null:a.getError("pattern"))}}function $(e,o){e&1&&(r(0,"span"),_(1,"i",19),i())}function J(e,o){if(e&1&&(r(0,"p",20),s(1),i()),e&2){let p=v();l(),E(p.errMsg)}}var ne=(()=>{let o=class o{constructor(a,n,t,d){this.fb=a,this._Router=n,this._AuthService=t,this._Render2=d,this.errMsg="",this.isLoading=!1}ngOnInit(){this.createForm()}createForm(){this.loginForm=this.fb.group({email:["",[f.required,f.email]],password:["",[f.required,f.pattern(/^[A-Z][a-z0-9]{5,8}$/)]]})}loginHandel(a,n){this._Render2.setAttribute(n,"disabled","true"),this.isLoading=!0,a.valid&&this._AuthService.Login(a.value).subscribe({next:t=>{console.log(t),this._Router.navigate(["/home"]),localStorage.setItem("token",t.token),this._AuthService.decodedToken(),this.isLoading=!1,this._Render2.removeAttribute(n,"disabled")},error:t=>{console.log(t),this.errMsg=t.error.message,this.isLoading=!1,this._Render2.removeAttribute(n,"disabled")}})}};o.\u0275fac=function(n){return new(n||o)(u(q),u(M),u(j),u(b))},o.\u0275cmp=h({type:o,selectors:[["app-login"]],standalone:!0,features:[I],decls:22,vars:6,consts:[["btnLogin",""],[1,"width","mx-auto","shadow","rounded","p-4","my-3","bg-main-light"],[1,"my-3"],[3,"ngSubmit","formGroup"],[1,"form-item"],["for","email"],["formControlName","email","type","email","placeholder","Write your email...","id","email",1,"form-control"],["class","alert alert-danger p-0 small",4,"ngIf"],[1,"form-item","py-1"],["for","password"],["formControlName","password","type","password","placeholder","Write your password...","id","password",1,"form-control"],[1,"d-flex","justify-content-between","align-items-center"],["type","submit",1,"main-btn","mt-2",3,"disabled"],[4,"ngIf"],["role","button","routerLink","/forgotpasswordAuth",1,"link-primary","mt-2"],["class","alert alert-danger text-center mb-0 w-75 mx-auto p-1",4,"ngIf"],[1,"alert","alert-danger","p-0","small"],["class","text-center mb-0",4,"ngIf"],[1,"text-center","mb-0"],[1,"fas","fa-spin","fa-spinner"],[1,"alert","alert-danger","text-center","mb-0","w-75","mx-auto","p-1"]],template:function(n,t){if(n&1){let d=C();r(0,"section",1)(1,"h2",2),s(2,"Login Now !"),i(),r(3,"form",3),y("ngSubmit",function(){x(d);let D=S(16);return w(t.loginHandel(t.loginForm,D))}),r(4,"div",4)(5,"label",5),s(6,"Email"),i(),_(7,"input",6),c(8,W,3,2,"div",7),i(),r(9,"div",8)(10,"label",9),s(11,"Password"),i(),_(12,"input",10),c(13,Z,3,2,"div",7),i(),r(14,"div",11)(15,"button",12,0),s(17," Login "),c(18,$,2,0,"span",13),i(),r(19,"a",14),s(20,"Forget Password ?"),i()()(),c(21,J,2,1,"p",15),i()}if(n&2){let d,g;l(3),m("formGroup",t.loginForm),l(5),m("ngIf",((d=t.loginForm.get("email"))==null?null:d.errors)&&((d=t.loginForm.get("email"))==null?null:d.touched)),l(5),m("ngIf",((g=t.loginForm.get("password"))==null?null:g.errors)&&((g=t.loginForm.get("password"))==null?null:g.touched)),l(2),m("disabled",t.loginForm.invalid),l(3),m("ngIf",t.isLoading),l(3),m("ngIf",t.errMsg!="")}},dependencies:[L,F,V,N,T,A,R,O,k,P],styles:["@media only screen and (max-width: 575px){.width[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%]{max-width:300px!important}}@media only screen and (min-width: 576px) and (max-width: 1400px){.width[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%]{max-width:400px!important}}"]});let e=o;return e})();export{ne as LoginComponent};
